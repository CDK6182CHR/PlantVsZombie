# 课程设计2-植物大战僵尸报告

* 选题：标准选题（植物大战僵尸）
* 姓名：马兴越
* 学号：171870660
* 院系：现代工程与应用科学学院
* 编写调试平台：Windows 10, Microsoft Visual Studio 2019

## 提交目录

* `project` 目录，包含完整的Visual Studio工程文件。
* `bin`目录，在Windows 64位编译出的可执行文件。

## 实现摘要

对照课程设计的要求，此处简单列出实现的内容。这里仅仅列出实现结果，而不具体解释实现方法。

### 特色之处

* 植物、僵尸、炮弹的公共抽象基类`Placeable`及类层次。
* 僵尸及护具的继承、聚集混合实现方法，以及魔改组合各种护具和僵尸；带护具僵尸的模版类及mixin设计方法。
* 植物、僵尸工厂类，包括抽象基类和模版的实际类。

### 系统与场地

系统有一时间戳，所以时刻表达都通过**时间戳**，时间表达都以**时钟周期**为单位。。

* 5行8列庭院，自动产生自然光，植物购买（地块选择，种植等），铲子，计分板。
* 按一定逻辑产生僵尸，且有一定的难度递增。
* 提示信息栏，系统时间戳显示

### 植物

植物具有公共接口，都包含生命值，耗费阳光数量，冷却时间等。具体包括下列的植物。对攻击型的植物，单独有`Seed`类表达植物的“炮弹”。这里简单列出所有实现的植物及其基本参数。

特别指出，在设计中，“攻击力”并非是植物的属性，而是植物的炮弹（`Seed`）的属性。但由于设计中的每一种植物都唯一对应到一种炮弹，方便起见，这里也直接列出。

| 名称     | 阳光 | 冷却时间 | 生命值 | 特征周期 | 攻击力 |
| -------- | ---- | -------- | ------ | -------- | ------ |
| 向日葵   | 50   | 5        | 10     | 15       | -      |
| 豌豆射手 | 100  | 5        | 10     | 4        | 2      |
| 寒冰射手 | 175  | 10       | 10     | 4        | 2      |
| 双发射手 | 200  | 10       | 12     | 4, 1     | 2      |
| 西瓜投手 | 300  | 20       | 15     | 5        | 5      |
| 坚果墙   | 50   | 40       | 60     | -        | -      |
| 地刺     | 100  | 20       | -      | 1        | 1      |
| 土豆雷   | 25   | 50       | 10     | 20       | ∞      |
| 火爆辣椒 | 300  | 50       | -      | 2        | ∞      |
| 樱桃炸弹 | 300  | 50       | -      | 2        | ∞      |

### 僵尸及生成逻辑

僵尸大致由两类，单独的一只僵尸（用纯粹的继承实现）和僵尸加上护具（继承+聚集实现）。理论上僵尸可以任意魔改组合，比如说铁桶撑杆僵尸，路障摇旗僵尸之类的。

每500个时钟周期产生一大波僵尸，一大波僵尸总是由摇旗僵尸领头，时长80个时钟周期，这段时间产生僵尸的概率会很高。

一般的僵尸有一个产生相对概率，及一个起始时刻，也就是在该时刻指定的时间戳之后，才可能产生这种僵尸，以体现难度递增。

这里列出所有玩家实际看到的僵尸，也就是包括了僵尸和护具的组合。斜体标出名称的僵尸属于这种类型。所有的僵尸的攻击力（每吃一口的杀伤力）都是2。表中的名称和生命值都已经包括了护具，特征周期是指吃两口之间的间隙。

| 名称           | 生命值 | 速度 | 分值 | 特征周期 | 相对概率 | 起始时刻 |
| -------------- | ------ | ---- | ---- | -------- | -------- | -------- |
| 僵尸           | 10     | 2    | 1    | 3        | 10       | 50       |
| *路障僵尸*     | 20     | 2    | 2    | 3        | 10       | 80       |
| *垃圾桶僵尸*   | 30     | 2    | 3    | 3        | 8        | 100      |
| *铁桶僵尸*     | 40     | 2    | 4    | 3        | 8        | 120      |
| 读报僵尸       | 16     | 2, 6 | 3    | 3        | 6        | 140      |
| *门板僵尸*     | 50     | 2    | 5    | 3        | 6        | 200      |
| 撑杆僵尸       | 20     | 2    | 3    | 3        | 5        | 250      |
| 玩偶盒僵尸     | 20     | 2    | 3    | 3        | 4        | 320      |
| 橄榄球僵尸     | 40     | 3    | 6    | 2        | 6        | 400      |
| *铁桶撑杆僵尸* | 50     | 2    | 6    | 3        | 6        | 800      |
| 摇旗僵尸       | 15     | 3    | 2    | 3        | -        | -        |

## 架构设计

